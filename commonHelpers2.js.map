{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst formElem = document.querySelector('.feedback-form');\n\nformElem.addEventListener('input', () => {\n  const formData = new FormData(formElem);\n  const email = formData.get('email');\n  const message = formData.get('message');\n\n  const data = { email, message };\n  saveToLS('userData', data);\n  console.log(email, message);\n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  console.log(localStorage.setItem(key, jsonData));\n}\n\nfunction loadFromLS(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const data = loadFromLS('userData');\n  formElem.elements.email.value = data?.email || '';\n  formElem.elements.message.value = data?.message || '';\n});\n\nformElem.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (\n    formElem.elements.email.value === '' ||\n    formElem.elements.message.value === ''\n  ) {\n    prompt`Fill please all fields`;\n  } else {\n    const formData = new FormData(formElem);\n    const email = formData.get('email');\n    const message = formData.get('message');\n\n    const data = { email, message };\n\n    console.log(data);\n\n    formElem.reset();\n    localStorage.removeItem('userData');\n  }\n});\n"],"names":["formElem","formData","email","message","saveToLS","key","value","jsonData","loadFromLS","json","data"],"mappings":"wFAEA,MAAMA,EAAW,SAAS,cAAc,gBAAgB,EAExDA,EAAS,iBAAiB,QAAS,IAAM,CACvC,MAAMC,EAAW,IAAI,SAASD,CAAQ,EAChCE,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAGtCG,EAAS,WADI,CAAE,MAAAF,EAAO,QAAAC,EACG,EACzB,QAAQ,IAAID,EAAOC,CAAO,CAC5B,CAAC,EAED,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,QAAQ,IAAI,aAAa,QAAQD,EAAKE,CAAQ,CAAC,CACjD,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMI,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH,CAEA,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAOF,EAAW,UAAU,EAClCR,EAAS,SAAS,MAAM,OAAQU,GAAA,YAAAA,EAAM,QAAS,GAC/CV,EAAS,SAAS,QAAQ,OAAQU,GAAA,YAAAA,EAAM,UAAW,EACrD,CAAC,EAEDV,EAAS,iBAAiB,SAAU,GAAK,CAGvC,GAFA,EAAE,eAAc,EAGdA,EAAS,SAAS,MAAM,QAAU,IAClCA,EAAS,SAAS,QAAQ,QAAU,GAEpC,mCACK,CACL,MAAMC,EAAW,IAAI,SAASD,CAAQ,EAChCE,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAItC,QAAQ,IAFK,CAAE,MAAAC,EAAO,QAAAC,EAEN,EAEhBH,EAAS,MAAK,EACd,aAAa,WAAW,UAAU,CACnC,CACH,CAAC"}